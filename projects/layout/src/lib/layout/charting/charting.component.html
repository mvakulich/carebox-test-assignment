<ng-container *ngIf="data$ | async as data" [ngSwitch]="data.state">
  <span *ngSwitchCase="'loading'">Loading...</span>
  <span *ngSwitchCase="'error'">{{error.message}}</span>
  <span *ngIf="chartData$ | async as chartData">
    <h3> Positive progression </h3>
    <ngx-charts-line-chart
        [view]="[600,300]"
        class="chart-container"
        [results]="chartData"
        [xAxis]="true"
        [yAxis]="true"
      >
    </ngx-charts-line-chart>
  </span>
</ng-container>
  
